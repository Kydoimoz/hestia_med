(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{80327:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return a(16255)}])},16255:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>z});var t=a(74848),r=a(96540),n=a(29965),i=a.n(n),c=a(11565),l=a.n(c),o=a(91106),d=a.n(o),m=a(76424),_=a(24922),h=a(39437),u=a(73090),p=a(23742),f=a(13559),x=a(79219),N=a(80176);a(87722);var g=a(70655),j=a.n(g),b=a(37585),v=a.n(b),y=a(42622),w=a.n(y),A=a(92763),k=a(41917),C=a(601),S=a(75737),q=a(4115),F=a(74353),P=a.n(F);let T=(0,a(27474).A)({customTextField:{width:"355px!important"}});function E(){let[e,s]=(0,r.useState)(1),a=()=>["practice_name","first_name","surname","birth_date","gender","email","phoneNumber","country","city","address","password","confirmpassword"].filter(e=>!O[e]),n=(0,m.useRouter)(),[c,o]=(0,r.useState)(""),[g,b]=(0,r.useState)(""),[y,F]=(0,r.useState)(""),{pathname:E,query:z}=n,D=T(),[O,I]=(0,r.useState)({practice_address:"",practice_phoneNumber:"",practice_name:"",title:"",first_name:"",surname:"",gender:"",birth_date:"",email:"",phoneNumber:"",country:"",city:"",address:"",password:"",confirmpassword:"",role:"practitioner",termsAccepted:!1});(0,r.useEffect)(()=>{console.log(O)});let M=O.birth_date&&P()(O.birth_date).isValid()?P()(O.birth_date).toISOString().toString():null;console.log("Formatted Birth Date:",M);let[B,L]=(0,r.useState)(""),[W,H]=(0,r.useState)(""),[G,J]=(0,r.useState)([]),[R,V]=(0,r.useState)([]),[U,X]=(0,r.useState)(!1),[K,Q]=(0,r.useState)(!1),Z=e=>{let{name:s,value:a}=e.target;I(e=>({...e,[s]:a}))};async function $(e){e.preventDefault();let s={};for(let a of(Array.from(e.currentTarget.elements).forEach(e=>{e.name&&"title"!==e.name&&(s[e.name]=e.value)}),console.log(s),Object.keys(O)))if("title"!==a&&""===O[a]){o("Marked fields are required!");return}let a=await fetch("/api/authentication_control/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:O.email})});console.log(a);let{user_stored:t}=await a.json();if(console.log(t),t){console.log("User already exists.."),o("Benutzer existiert schon...");return}console.log("Request Body:",JSON.stringify({practice_name:O.practice_name,title:O.title,first_name:O.first_name,surname:O.surname,gender:O.gender,birth_date:M,email:O.email,phoneNumber:O.phoneNumber,country:O.country,city:O.city,address:O.address,password:O.password,role:"practitioner",termsAccepted:O.termsAccepted},null,2));let r={practice_name:O.practice_name,practice_address:O.practice_address,practice_phoneNumber:O.practice_phoneNumber};try{let s=await fetch("/api/register/practice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok){let e=await s.json();console.error("Praxis-Fehler:",e);return}let a=await s.json();console.log("API Antwort:",a);let{_practice:t}=a;if(!t||!t._id){console.error("Fehler: Keine g\xfcltige Praxisantwort erhalten");return}console.log("Praxis-ID:",t._id);let i=await fetch("/api/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({practice_name:t.name,practice:t?t._id:null,title:O.title,first_name:O.first_name,surname:O.surname,gender:O.gender,birth_date:M,email:O.email,phoneNumber:O.phoneNumber,country:O.country,city:O.city,address:O.address,password:O.password,role:O.role,termsAccepted:O.termsAccepted})});if(i.ok){let s=i.headers.get("Content-Type");if(s&&s.includes("application/json")){let s=await i.json();console.log(s);let a=s.verificationToken;if(!a){console.error("Verification token is missing in the response"),o("Ein unerwarteter Fehler ist aufgetreten. Bitte versuchen Sie es erneut.");return}e.target.reset(),F("\xdcberpr\xfcfen Sie Ihre Mail - Inbox!"),n.push("/register/verification?verificationToken=".concat(a))}else console.error("Error: Response is not JSON")}else console.error("Error:",i.status,i.statusText)}catch(e){console.error(e)}}let Y=async e=>{if(e)try{let s=await fetch("https://countriesnow.space/api/v0.1/countries"),a=await s.json();if(a&&a.data){let s=a.data.find(s=>s.country===e);s&&I(e=>({...e,cities:s.cities}))}}catch(e){console.error("Error fetching cities:",e)}};(0,r.useEffect)(()=>{Y(O.country)},[O.country]),(0,r.useEffect)(()=>{let e=document.getElementById("threejs_left_container");if(e.style.height="250px",!e||0===e.offsetWidth||0===e.offsetHeight){console.error("Container hat null Dimensionen oder fehlt.");return}let s=new _.Z58,a=new _.ubm(75,e.offsetWidth/e.offsetHeight,.1,1e3);a.position.set(0,50,500),a.lookAt(new _.Pq0(0,50,0));let t=new h.JeP({antialias:!0,alpha:!0});t.setSize(e.offsetWidth,e.offsetHeight),t.setPixelRatio(window.devicePixelRatio),e.appendChild(t.domElement);let r=new _.ZyN(0xffffff,1);r.position.set(5,10,7.5),s.add(r);let n=new _.$p8(4210752);s.add(n);let i=null;new A.B().load("/resources/hestia_logo.glb",e=>{(i=e.scene).scale.set(5,5,5),i.position.set(0,0,0),i.rotation.y=Math.PI/2,i.rotation.x=Math.PI,i.rotation.z=Math.PI/2,s.add(i),console.log("Modell erfolgreich geladen")},void 0,e=>{console.error("Fehler beim Laden des Modells:",e)});let c=()=>{requestAnimationFrame(c),i&&(i.rotation.y+=.01),t.render(s,a)};c();let l=()=>{a.aspect=e.offsetWidth/e.offsetHeight,a.updateProjectionMatrix(),t.setSize(e.offsetWidth,e.offsetHeight)};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l),e.removeChild(t.domElement)}},[]),(0,r.useEffect)(()=>{fetch("https://countriesnow.space/api/v0.1/countries/iso").then(e=>e.json()).then(e=>{J(e.data)}).catch(e=>console.error("Error fetching countries:",e))},[]);let ee=async e=>{let s=e.target.value;L(s),I(e=>({...e,country:s}));try{let e=await fetch("https://countriesnow.space/api/v0.1/countries/cities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({country:s})}),a=await e.json();V(a.data),H("")}catch(e){console.error("Error fetching cities:",e)}};return(0,t.jsx)("div",{className:l().main,children:(0,t.jsxs)("div",{className:l().inner__container,children:[(0,t.jsxs)("div",{className:l().left__container,children:[(0,t.jsx)("div",{className:l().left__btns,children:(0,t.jsx)(k.A,{sx:{borderColor:"black",color:"black","&:hover":{borderColor:"black",backgroundColor:"white",color:"black"}},href:"/",variant:"outlined",children:"← Go Back Home"})}),(0,t.jsxs)("div",{className:l().left__content,children:[(0,t.jsxs)("div",{className:l().left__content__description__container,children:[(0,t.jsx)("h3",{className:"".concat(j().className," ").concat(l().title),children:"Hestia - Med\xae - Unser Medizinisches Portal!"}),(0,t.jsxs)("div",{className:l().features,children:[(0,t.jsxs)("div",{className:l().features__item,children:[(0,t.jsx)(i(),{className:l().list__img,src:"/icons/users.png",draggable:"false",width:30,height:30,alt:"list"}),(0,t.jsx)("span",{className:"".concat(v().className," ").concat(l().feature_description),children:"Effiziente Verwaltung von Patienten"})]}),(0,t.jsxs)("div",{className:l().features__item,children:[(0,t.jsx)(i(),{className:l().list__img,src:"/icons/Calendar_Days.png",draggable:"false",width:30,height:30,alt:"list"}),(0,t.jsx)("span",{className:"".concat(v().className," ").concat(l().feature_description),children:"Online Scheduling"})]}),(0,t.jsxs)("div",{className:l().features__item,children:[(0,t.jsx)(i(),{className:l().list__img,src:"/icons/Credit_Card_01.jpg",draggable:"false",width:30,height:30,alt:"list"}),(0,t.jsx)("span",{className:"".concat(v().className," ").concat(l().feature_description),children:"Vereinfachte Nutzung unseres Buchungssystems"})]}),(0,t.jsxs)("div",{className:l().features__item,children:[(0,t.jsx)(i(),{className:l().list__img,src:"/icons/Folder_Document.png",draggable:"false",width:30,height:30,alt:"list"}),(0,t.jsx)("span",{className:"".concat(v().className," ").concat(l().feature_description),children:"Medizinische Dokumentation"})]})]})]}),(0,t.jsx)("div",{id:"threejs_left_container",style:{marginTop:"-100px"},children:(0,t.jsx)("canvas",{className:l().canvas})})]})]}),(0,t.jsx)("div",{className:l().right__container,children:(0,t.jsxs)("section",{className:l().register_section,children:[(0,t.jsx)("h1",{className:"".concat(v().className," ").concat(l().section_heading),children:"CREATE AN ACCOUNT"}),(0,t.jsxs)("form",{onSubmit:$,className:"".concat(l().below_content),children:[1===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"".concat(l().input__modifier),children:(0,t.jsxs)(x.A,{sx:{m:1,minWidth:120},children:[(0,t.jsx)(u.A,{id:"demo-simple-select-helper-label",children:"Titel"}),(0,t.jsxs)(N.A,{className:l().form_control,labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:O.title,label:"Titel",name:"title",onChange:Z,children:[(0,t.jsx)(p.A,{value:"",children:(0,t.jsx)("em",{children:"None"})}),(0,t.jsx)(p.A,{className:l().option,value:"Dr.",children:"Dr."}),(0,t.jsx)(p.A,{className:l().option,value:"Prof. Dr.",children:"Prof. Dr."}),(0,t.jsx)(p.A,{className:l().option,value:"Dr. med.",children:"Dr. med."}),(0,t.jsx)(p.A,{className:l().option,value:"Dr. med. dent.",children:"Dr. med. dent."}),(0,t.jsx)(p.A,{className:l().option,value:"Prof. Dr. med.",children:"Prof. Dr. med."}),(0,t.jsx)(p.A,{className:l().option,value:"Dr. rer. nat.",children:"Dr. rer. nat."}),(0,t.jsx)(p.A,{className:l().option,value:"Oberarzt",children:"Oberarzt"}),(0,t.jsx)(p.A,{className:l().option,value:"Chefarzt",children:"Chefarzt"}),(0,t.jsx)(p.A,{className:l().option,value:"Assistenzarzt",children:"Assistenzarzt"}),(0,t.jsx)(p.A,{className:l().option,value:"Facharzt",children:"Facharzt "})]}),(0,t.jsx)(f.A,{children:"Titel (Pr\xe4fix) - Optional"})]})}),(0,t.jsxs)("div",{className:l().input__outer,children:[(0,t.jsxs)("div",{className:l().input_container,children:[(0,t.jsx)("label",{htmlFor:"practice_name",className:l().label,children:(0,t.jsx)("span",{className:l().required,children:"*"})}),(0,t.jsx)("input",{id:"practice_name",className:"".concat(w().className," ").concat(l().submit_input),type:"text",name:"practice_name",value:O.practice_name,onChange:Z,"aria-autocomplete":"none",placeholder:"Praxis: ",required:!0})]}),(0,t.jsxs)("div",{className:l().input_container,children:[(0,t.jsx)("label",{htmlFor:"first_name",className:l().label,children:(0,t.jsx)("span",{className:l().required,children:"*"})}),(0,t.jsx)("input",{id:"first_name",className:"".concat(w().className," ").concat(l().submit_input),type:"text",name:"first_name",value:O.first_name,onChange:Z,"aria-autocomplete":"none",placeholder:"First Name",required:!0})]})]}),(0,t.jsxs)("div",{className:l().input__outer,children:[(0,t.jsxs)("div",{className:l().input_container,children:[(0,t.jsx)("label",{htmlFor:"surname",className:l().label,children:(0,t.jsx)("span",{className:l().required,children:"*"})}),(0,t.jsx)("input",{id:"surname",className:"".concat(w().className," ").concat(l().submit_input),type:"text",name:"surname","aria-autocomplete":"none",placeholder:"Surname",value:O.surname,onChange:Z,required:!0})]}),(0,t.jsxs)("div",{className:l().input_container,children:[(0,t.jsx)("label",{htmlFor:"date_picker",className:l().label,children:(0,t.jsx)("span",{className:l().required,children:"*"})}),(0,t.jsx)(S.$,{id:"date_picker",sx:{width:"355px!important"},dateAdapter:C.R,className:D.customTextField,children:(0,t.jsx)(q.l,{sx:{width:"355px!important"},value:O.birth_date||null,onChange:e=>{I({...O,birth_date:e})},minDate:P()().subtract(100,"years"),renderInput:e=>(0,t.jsx)(TextField,{...e,sx:{width:"355px!important"},className:D.customTextField}),className:D.customTextField})})]})]}),(0,t.jsxs)("div",{className:l().input__outer,children:[(0,t.jsxs)("div",{className:l().input_container,children:[(0,t.jsx)("label",{htmlFor:"gender",className:l().label,children:(0,t.jsx)("span",{className:l().required,children:"*"})}),(0,t.jsxs)(x.A,{id:"gender",sx:{m:1,minWidth:350},children:[(0,t.jsx)(u.A,{id:"demo-simple-select-helper-label",children:"Geschlecht"}),(0,t.jsxs)(N.A,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:O.gender,label:"Geschlecht",name:"gender",onChange:Z,children:[(0,t.jsx)(p.A,{className:l().option,value:"Mann",children:"Mann"}),(0,t.jsx)(p.A,{className:l().option,value:"Frau",children:"Frau"})]})]})]}),(0,t.jsxs)("div",{className:l().input_container,children:[(0,t.jsx)("label",{htmlFor:"email",className:l().label,children:(0,t.jsx)("span",{className:l().required,children:"*"})}),(0,t.jsx)("input",{id:"email",className:"".concat(w().className," ").concat(l().submit_input," ").concat(l().space),type:"email",name:"email","aria-autocomplete":"none",placeholder:"Email",value:O.email,onChange:Z,required:!0})]})]}),(0,t.jsxs)("div",{className:l().input__outer,children:[(0,t.jsxs)("div",{className:l().input_container,children:[(0,t.jsx)("label",{htmlFor:"phoneNumber",className:l().label,children:(0,t.jsx)("span",{className:l().required,children:"*"})}),(0,t.jsx)("input",{id:"phoneNumber",type:"number",className:"".concat(w().className," ").concat(l().submit_input),name:"phoneNumber",placeholder:"Telefonnummer",value:O.phoneNumber,onChange:Z,required:!0,maxlength:"17"})]}),(0,t.jsxs)("div",{className:l().input_container,children:[(0,t.jsx)("label",{htmlFor:"country",className:l().label,children:(0,t.jsx)("span",{className:l().required,children:"*"})}),(0,t.jsxs)("select",{id:"country",className:"".concat(w().className," ").concat(l().submit_input),name:"country",value:B,onChange:ee,required:!0,children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"Land"}),G.map((e,s)=>(0,t.jsx)("option",{className:l().option,value:e.iso2,children:e.name},s))]})]})]}),(0,t.jsxs)("div",{className:l().input__outer,children:[(0,t.jsxs)("div",{className:l().input_container,children:[(0,t.jsx)("label",{htmlFor:"city",className:l().label,children:(0,t.jsx)("span",{className:l().required,children:"*"})}),(0,t.jsxs)("select",{disabled:!B,id:"city",name:"city",value:W,className:l().submit_input,onChange:e=>{let s=e.target.value;H(s),I(e=>({...e,city:s})),console.log(O)},required:!0,children:[(0,t.jsx)("option",{value:"",disabled:!0,className:l().option,children:"City"}),R.map((e,s)=>(0,t.jsx)("option",{className:l().option,value:e,children:e},s))]})]}),(0,t.jsxs)("div",{className:l().input_container,children:[(0,t.jsx)("label",{htmlFor:"address",className:l().label,children:(0,t.jsx)("span",{className:l().required,children:"*"})}),(0,t.jsx)("input",{id:"address",className:"".concat(w().className," ").concat(l().submit_input),type:"text",name:"address","aria-autocomplete":"none",placeholder:"Strasse, Strassennummer / Stiege / T\xfcrnummer",value:O.address,onChange:Z,required:!0})]})]}),(0,t.jsxs)("div",{className:l().input__outer,children:[(0,t.jsxs)("label",{className:l().input_eye,style:{marginLeft:"0%"},children:[(0,t.jsx)("label",{htmlFor:"password",className:l().label,children:(0,t.jsx)("span",{className:l().required,children:"*"})}),(0,t.jsx)("input",{id:"password",className:"".concat(w().className," ").concat(l().submit_input),type:U?"text":"password","aria-autocomplete":"none",placeholder:"Create password",name:"password",value:O.password,onChange:Z,minLength:6,required:!0})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("label",{style:{marginLeft:"0%"},children:[(0,t.jsx)("label",{htmlFor:"confirm",className:l().label,children:(0,t.jsx)("span",{className:l().required,children:"*"})}),(0,t.jsx)("input",{id:"confirm",className:"".concat(w().className," ").concat(l().submit_input),type:"password",name:"confirmpassword","aria-autocomplete":"none",value:O.confirmpassword,onChange:Z,placeholder:"Confirm password",required:!0})]})})]}),g&&(0,t.jsx)("div",{className:l().error_text,children:g}),(0,t.jsx)("div",{className:O.password!==O.confirmpassword?l().error:"",children:O.password!==O.confirmpassword&&"Passwort stimmt nicht \xfcberein."}),(0,t.jsx)(k.A,{onClick:t=>{if(t.preventDefault(),a().length>0){o("Bitte alle erforderlichen Felder ausf\xfcllen.");return}s(e+1)},children:"Weiter →"})]}),2===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:l().input_container,children:[(0,t.jsx)("label",{htmlFor:"practice_address",className:l().label,children:(0,t.jsx)("span",{className:l().required,children:"*"})}),(0,t.jsx)("input",{id:"practice_address",className:"".concat(w().className," ").concat(l().submit_input),type:"text",name:"practice_address","aria-autocomplete":"none",placeholder:"Praxisadresse",value:O.practice_address,onChange:Z,required:!0})]}),(0,t.jsxs)("div",{className:l().input_container,children:[(0,t.jsx)("label",{htmlFor:"practice_phoneNumber",className:l().label,children:(0,t.jsx)("span",{className:l().required,children:"*"})}),(0,t.jsx)("input",{id:"practice_phoneNumber",type:"number",className:"".concat(w().className," ").concat(l().submit_input),name:"practice_phoneNumber",placeholder:"Praxis-Kontaktnummer (Tel)",value:O.practice_phoneNumber,onChange:Z,required:!0,maxlength:"17"})]}),(0,t.jsxs)("div",{className:l().terms_and_services_container,children:[(0,t.jsxs)("label",{className:l().container_label,children:[(0,t.jsx)("input",{type:"checkbox",checked:O.termsAccepted,name:"termsAccepted",onChange:e=>{let{name:s,checked:a}=e.target;I(e=>({...e,[s]:a})),console.log(O.termsAccepted)},className:l().check_input,value:O.termsAccepted,required:!0}),(0,t.jsx)("div",{className:l().checkmark})]}),(0,t.jsxs)("span",{children:["Ich stimme den ",(0,t.jsx)(d(),{className:l().outer_link_ref,href:"/terms_and_services",children:(0,t.jsx)("span",{className:l().link,children:"Nutzungsbedingungen"})})," und der Verarbeitung meiner Daten gem\xe4\xdf der  ",(0,t.jsx)(d(),{className:l().outer_link_ref,href:"/privacy_policy",children:(0,t.jsx)("span",{className:l().link,children:"Datenschutzrichtlinie"})}),"."]})]}),(0,t.jsx)(k.A,{onClick:()=>{o(""),s(1)},children:"← Zur\xfcck"}),(0,t.jsx)("button",{className:"".concat(l().btn," ").concat(v().className),disabled:O.password!=O.confirmpassword,type:"submit",children:"Sign Up"})]}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{})," ",c&&""!==c.trim()&&(0,t.jsx)("div",{className:l().error_message,children:c})]}),(0,t.jsx)(t.Fragment,{children:y&&(0,t.jsx)("div",{className:l().successMessage,children:(0,t.jsx)("span",{className:l().success_message,children:y})})}),(0,t.jsx)("br",{}),(0,t.jsxs)("div",{className:"".concat(l().existingacc," ").concat(v().className),children:["Sie besitzen schon ein Account? - ",(0,t.jsx)(d(),{className:l().outer_link_ref,href:"/login",children:(0,t.jsx)("span",{className:l().underline,children:"Login"})})]})]})})]})})}function z(){return(0,t.jsx)("div",{children:(0,t.jsx)(E,{})})}},11565:e=>{e.exports={main:"register_form_main__HKvGH",inner__container:"register_form_inner__container__L7XT_",left__container:"register_form_left__container__eydks",title:"register_form_title__ySQeR",left__content:"register_form_left__content___KfW5",left__content__description__container:"register_form_left__content__description__container__D96mL",threejs_left_container:"register_form_threejs_left_container__u3eVW",right__container:"register_form_right__container__zBGrI",features:"register_form_features__Xc_um",features__item:"register_form_features__item__efYaC",left__btns:"register_form_left__btns__uAtrk",submit_input:"register_form_submit_input__JqVQW",input_eye:"register_form_input_eye__hNFoa",eye_icon:"register_form_eye_icon__c3_BI",pw_toggle:"register_form_pw_toggle__0cLQH",below_content:"register_form_below_content__r_yrz",input_container:"register_form_input_container__U279I",input__modifier:"register_form_input__modifier__Wp_ji",form_control:"register_form_form_control__VDUtE",required:"register_form_required__ES37H",space:"register_form_space__idPbq",outer_link:"register_form_outer_link__FA4aC",outer_link_ref:"register_form_outer_link_ref__XXadQ",existingacc:"register_form_existingacc__5UGyB",section_heading:"register_form_section_heading__AeI9S",input__outer:"register_form_input__outer__L1xyw",terms_and_services_container:"register_form_terms_and_services_container__DZMqf",container_label:"register_form_container_label__5A0GX",check_input:"register_form_check_input__EGVIG",checkmark:"register_form_checkmark___53zy",btn:"register_form_btn__JAqRy"}}},e=>{var s=s=>e(e.s=s);e.O(0,[438,624,763,917,57,382,636,593,792],()=>s(80327)),_N_E=e.O()}]);